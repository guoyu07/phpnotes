\part{BCMath}


\chapter{Overview}

涉及到金融计算的操作必须使用BCMath扩展，BCMath本身是一个可以用来执行任意精度数学计算的PHP扩展。

对于任意精度的数学，PHP提供了支持用字符串表示的任意大小和精度的数字的二进制计算，最多为2147483647-1（或0x7FFFFFFF-1）。






\subsection{Requirement}

libbcmath和PHP一起发布，除此之外BCMath扩展不需要任何外部的库，在编译PHP时配置\texttt{-\/-enable-bcmath}就可以启用BCMath。

\begin{lstlisting}
bcmath

BCMath support => enabled

Directive => Local Value => Master Value
bcmath.scale => 0 => 0
\end{lstlisting}

\section{Resource Type}

BCMath没有定义资源类型。





\section{Runtime Configure}

BCMath的函数受到php.ini 中定义的bcmath.scale配置指令的影响。


\begin{longtable}{|m{150pt}|m{40pt}|m{120pt}|}
%head
\multicolumn{3}{r}{}
\tabularnewline\hline
配置项&默认值&可修改范围
\endhead
%endhead

%firsthead
\caption{BCMath配置选项}\\
\hline
配置项&默认值&可修改范围
\endfirsthead
%endfirsthead

%foot
\multicolumn{3}{r}{}
\endfoot
%endfoot

%lastfoot
\endlastfoot
%endlastfoot
\hline
bcmath.scale & \texttt{"0"}& PHP\_INI\_ALL\\
\hline
\end{longtable}


\subsection{bcmath.scale}

bcmath.scale(integer) - 所有 bcmath 函数中十进制数字的数目。



\section{Predefined Constants}

BCMath没有定义常量。


\section{Functions}


\subsection{bcadd()}


bcadd() - 2个任意精度数字的加法计算


\subsection{bccomp()}

bccomp() - 比较两个任意精度的数字


\subsection{bcdiv()}

bcdiv() - 2个任意精度的数字除法计算


\subsection{bcmod()}


bcmod() - 对一个任意精度数字取模


\subsection{bcmul()}

bcmul() - 2个任意精度数字乘法计算


\subsection{bcpow()}

bcpow() - 任意精度数字的乘方


\subsection{bcpowmod()}

bcpowmod() - Raise an arbitrary precision number to another, reduced by a specified modulus


\subsection{bcscale()}

bcscale() - 设置所有bc数学函数的默认小数点保留位数


\subsection{bcsqrt()}

bcsqrt() - 任意精度数字的二次方根


\subsection{bcsub()}

bcsub() - 2个任意精度数字的减法












